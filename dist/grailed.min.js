!function(t){if("object"==typeof exports)module.exports=t();else if("function"==typeof define&&define.amd)define(t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.grailed=t()}}(function(){return function t(e,n,r){function o(u,c){if(!n[u]){if(!e[u]){var s="function"==typeof require&&require;if(!c&&s)return s(u,!0);if(i)return i(u,!0);throw new Error("Cannot find module '"+u+"'")}var a=n[u]={exports:{}};e[u][0].call(a.exports,function(t){var n=e[u][1][t];return o(n?n:t)},a,a.exports,t,e,n,r)}return n[u].exports}for(var i="function"==typeof require&&require,u=0;u<r.length;u++)o(r[u]);return o}({1:[function(t,e){function n(t){return t?r(t):void 0}function r(t){for(var e in n.prototype)t[e]=n.prototype[e];return t}e.exports=n,n.prototype.on=n.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks[t]=this._callbacks[t]||[]).push(e),this},n.prototype.once=function(t,e){function n(){r.off(t,n),e.apply(this,arguments)}var r=this;return this._callbacks=this._callbacks||{},n.fn=e,this.on(t,n),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks[t];if(!n)return this;if(1==arguments.length)return delete this._callbacks[t],this;for(var r,o=0;o<n.length;o++)if(r=n[o],r===e||r.fn===e){n.splice(o,1);break}return this},n.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks[t];if(n){n=n.slice(0);for(var r=0,o=n.length;o>r;++r)n[r].apply(this,e)}return this},n.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[t]||[]},n.prototype.hasListeners=function(t){return!!this.listeners(t).length}},{}],2:[function(t,e){var n=function(t){var e=!1,n=/xyz/.test(function(){})?/\b_super\b/:/.*/,r=function(){};return r.extend=function(t){function r(){!e&&this.init&&this.init.apply(this,arguments)}var o=this.prototype;e=!0;var i=new this;e=!1;for(var u in t)i[u]="function"==typeof t[u]&&"function"==typeof o[u]&&n.test(t[u])?function(t,e){return function(){var n=this._super;this._super=o[t];var r=e.apply(this,arguments);return this._super=n,r}}(u,t[u]):t[u];return r.prototype=i,r.prototype.constructor=r,r.extend=arguments.callee,r},r.extend(t)};e.exports=n},{}],3:[function(t,e){var n=t("sc-haskey"),r=t("sc-merge"),o=t("sc-omit"),i=t("./extend.johnresig.js"),u=function(){},c=function(t){var e,c;return t="function"==typeof t||"object"==typeof t?t:{},c=t.prototype||t,e=r(o(c,["constructor","init"])),e.init=n(t,"prototype.constructor","function")?t.prototype.constructor:n(t,"init","function")?t.init:"function"==typeof t?t:u,i(e)};e.exports=c},{"./extend.johnresig.js":2,"sc-haskey":4,"sc-merge":6,"sc-omit":8}],4:[function(t,e){function n(t,e,i){t="object"===r(t)?t:{},e="array"===r(e)?e:[],i="string"===r(i)?i:"";var u=e.length>0?e.shift():"",c=o.call(t,u)||void 0!==t[u],s=c?t[u]:void 0,a=r(s)===i;return e.length>0&&c?n(t[u],e,i):e.length>0||""===i?c:c&&a}var r=t("type-component"),o=Object.prototype.hasOwnProperty;e.exports=function(t,e,o){return e="string"===r(e)?e.split("."):[],n(t,e,o)}},{"type-component":5}],5:[function(t,e){var n=Object.prototype.toString;e.exports=function(t){switch(n.call(t)){case"[object Function]":return"function";case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array"}return null===t?"null":void 0===t?"undefined":t===Object(t)?"object":typeof t}},{}],6:[function(t,e){var n=t("type-component"),r=function(){var t=Array.prototype.slice.call(arguments),e="boolean"===n(t[0])?t.shift():!1,o=t,i={};return o.forEach(function(t){"object"===n(t)&&Object.keys(t).forEach(function(o){Object.prototype.hasOwnProperty.call(t,o)&&(i[o]=e&&"object"===n(t[o])?r(e,{},i[o],t[o]):t[o])})}),i};e.exports=r},{"type-component":7}],7:[function(t,e){e.exports=t(5)},{}],8:[function(t,e){function n(t,e){var n={};return t!==Object(t)?n:(e=Array.isArray(e)?e:[],Object.keys(t).forEach(function(r){var o=!0;e.forEach(function(t){o===!0&&r===t&&(o=!1)}),o===!0&&(n[r]=t[r])}),n)}e.exports=n},{}],9:[function(t,e,n){var r=t("./ises/type"),o={a:{},an:{},not:{a:{},an:{}}},i={arguments:["arguments",r("arguments")],array:["array",r("array")],"boolean":["boolean",r("boolean")],date:["date",r("date")],"function":["function","func","fn",r("function")],"null":["null",r("null")],number:["number","integer","int",r("number")],object:["object",r("object")],regexp:["regexp",r("regexp")],string:["string",r("string")],undefined:["undefined",r("undefined")],empty:["empty",t("./ises/empty")],nullorundefined:["nullOrUndefined","nullorundefined",t("./ises/nullorundefined")],guid:["guid",t("./ises/guid")]};Object.keys(i).forEach(function(t){var e=i[t].slice(0,i[t].length-1),n=i[t][i[t].length-1];e.forEach(function(t){o[t]=o.a[t]=o.an[t]=n,o.not[t]=o.not.a[t]=o.not.an[t]=function(){return n.apply(this,arguments)?!1:!0}})}),n=e.exports=o,n.type=r},{"./ises/empty":10,"./ises/guid":11,"./ises/nullorundefined":12,"./ises/type":13}],10:[function(t,e){var n=t("../type");e.exports=function(t){var e=!1;return"null"===n(t)||"undefined"===n(t)?e=!0:"object"===n(t)?e=0===Object.keys(t).length:"boolean"===n(t)?e=t===!1:"number"===n(t)?e=0===t||-1===t:("array"===n(t)||"string"===n(t))&&(e=0===t.length),e}},{"../type":15}],11:[function(t,e){var n=t("sc-guid");e.exports=function(t){return n.isValid(t)}},{"sc-guid":14}],12:[function(t,e){e.exports=function(t){return null===t||void 0===t||void 0===t}},{}],13:[function(t,e){var n=t("../type");e.exports=function(t){return function(e){return n(e)===t}}},{"../type":15}],14:[function(t,e,n){var r="{?[0-9A-Fa-f]{8}-[0-9A-Fa-f]{4}-4[0-9A-Fa-f]{3}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{12}}?";n.generate=function(){var t=(new Date).getTime(),e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"===e?n:7&n|8).toString(16)});return e},n.match=function(t){var e=new RegExp(r,"g"),n=("string"==typeof t?t:"").match(e);return Array.isArray(n)?n:[]},n.isValid=function(t){var e=new RegExp(r);return e.test(t)}},{}],15:[function(t,e){var n=Object.prototype.toString;e.exports=function(t){switch(n.call(t)){case"[object Function]":return"function";case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array"}return null===t?"null":void 0===t?"undefined":t===Object(t)?"object":typeof t}},{}],16:[function(t,e){var n=t("./grail"),r={};r.create=function(){return new n},e.exports=r},{"./grail":17}],17:[function(t,e,n){var r=t("emitter-component"),o=t("sc-extendify"),i=t("sc-is"),u=o({init:function(){var t=this;Object.defineProperties(t,{__base:{value:o()},__class:{value:{},writable:!0},__config:{value:{},writable:!0},__controller:{value:{},writable:!0},__engine:{value:{},writable:!0},__model:{value:{},writable:!0},__route:{value:{},writable:!0},classes:{get:function(){return this.__class}},controllers:{get:function(){return this.__controller}},models:{get:function(){return this.__model}},routes:{get:function(){return this.__route}}}),t.class.extend=function(e){return t.__base.extend(e)}},"class":function(t,e){var n=this;return i.not.nullOrUndefined(e)?(n.__class[t]=e,n):n.__class[t]},config:function(t,e){var n=this;return i.not.nullOrUndefined(e)?(n.__config[t]=e,n):n.__config[t]},controller:function(t,e){var n=this;return i.not.nullOrUndefined(e)?(n.__controller[t]=e,n):n.__controller[t]},engine:function(t){var e=this;if(i.not.a.func(t))throw new Error("The given Grailed engine must be a function");return e.__engine=t,e.__engine(e),e},end:function(){var t=this;return t.emit("end"),t},model:function(t,e){var n=this;return i.not.nullOrUndefined(e)?(n.__model[t]=e,n):n.__model[t]},route:function(t,e){var n=this;return i.not.nullOrUndefined(e)?(n.__route[t]=e,n):n.__route[t]},set:function(t,e){var n=this;return i.not.nullOrUndefined(e)?(n[t]=e,n):n[t]}});r(u.prototype),n=e.exports=u},{"emitter-component":1,"sc-extendify":3,"sc-is":9}]},{},[16])(16)});